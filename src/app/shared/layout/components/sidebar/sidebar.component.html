<!-- sidebar.component.html -->
<div
  class="sidebar-container h-screen fixed lg:relative"
  [ngClass]="{ 'w-64': isExpanded, 'w-16': !isExpanded }"
  [class.pointer-events-auto]="isDesktop() || mobileMenuOpen"
  [class.pointer-events-none]="!isDesktop() && !mobileMenuOpen"
>
  <!-- Sidebar pour desktop -->
  <div
    class="hidden lg:flex flex-col h-full bg-primary dark:bg-gray-800 shadow-lg transition-all duration-300"
    [ngClass]="{ 'w-64': isExpanded, 'w-16': !isExpanded }"
  >
    <!-- Logo et titre en haut -->
    <div class="flex items-center justify-center">
      <div class="rounded-full p-1 mt-1.5">
          <img src="assets/images/Logo.png" alt="Logo" class="w-44 mb-10 animate-float filter drop-shadow-lg" />
      </div>
     
    </div>

    <!-- Navigation items -->
    <nav class="flex-1 overflow-y-auto py-4">
      <ul>
        <!-- ADMIN -->
        @if(shouldShowItem('ADMIN')){

        <!-- Etudiant -->
        <li>
          <a
            routerLink="/admin/etudiant"
            routerLinkActive="bg-secondary dark:bg-gray-700"
            class="flex items-center px-4 py-3 text-white dark:text-gray-200 hover:bg-secondary dark:hover:bg-gray-700 transition-colors duration-200"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"
              />
            </svg>
            <span
              *ngIf="isExpanded"
              class="ml-3 transition-opacity duration-300"
              >Etudiant</span
            >
          </a>
        </li>

        <!-- Formateur -->
        <li>
          <a
            routerLink="/admin/formateurs"
            routerLinkActive="bg-secondary dark:bg-gray-700"
            class="flex items-center px-4 py-3 text-white dark:text-gray-200 hover:bg-secondary dark:hover:bg-gray-700 transition-colors duration-200"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
              />
            </svg>
            <span
              *ngIf="isExpanded"
              class="ml-3 transition-opacity duration-300"
              >Formateur</span
            >
          </a>
        </li>

        }

        @if(shouldShowItem('ADMIN') || shouldShowItem('FORMATEUR')){
             <!-- Les formations -->
             <li>
              <a
                routerLink="/admin/formations"
                routerLinkActive="bg-secondary dark:bg-gray-700"
                class="flex items-center px-4 py-3 text-white dark:text-gray-200 hover:bg-secondary dark:hover:bg-gray-700 transition-colors duration-200"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
                  />
                </svg>
                <span
                  *ngIf="isExpanded"
                  class="ml-3 transition-opacity duration-300"
                  >Formations</span
                >
              </a>
            </li>
        }
     
      </ul>
    </nav>


  </div>

  <!-- Sidebar mobile (full screen) -->
  <div
    class="lg:hidden fixed inset-0 bg-gray-800 bg-opacity-75 z-40 dark:bg-gray-900 dark:bg-opacity-75 z-50"
    [ngClass]="{ hidden: !mobileMenuOpen }"
  ></div>
  <div
    class="lg:hidden fixed inset-y-0 left-0 w-64 bg-primary dark:bg-gray-800 z-50 transform transition-transform duration-300"
    [ngClass]="{
      'translate-x-0': mobileMenuOpen,
      '-translate-x-full': !mobileMenuOpen
    }"
  >
    <div
      class="flex items-center justify-between h-16 border-b border-secondary dark:border-gray-600 px-4"
    >
      <div class="flex items-center">
        <div class="bg-white rounded-full p-1 mr-2">
          <svg
            class="h-8 w-8 text-primary dark:text-gray-200"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7z"
            />
          </svg>
        </div>
       
      </div>
      <button
        (click)="toggleMobileMenu()"
        class="text-white dark:text-gray-200"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

    <nav class="flex-1 overflow-y-auto py-4">
      <ul>
       
      </ul>
    </nav>
  </div>
</div>
